Earlier in this course, you learned that one of the basic classes of objects in R is the class of logical objects which contain TRUE and FALSE values. Logicals come up very frequently in data management and analysis because they form the basis of conditional operations (if a condition is met, perform a task) and are instrumental in data exploration, visualization, and analysis. In this lesson, we will cover the tools you will need to work with logical values in R.

One of the most common ways to create and combine logical objects is to use logical operators. Broadly speaking, operators are symbols that indicate some action. We introduced arithmetic operators in an earlier lesson for performing routine arithmetic calculations. Logical operators in R perform actions relating to logic checking and include the following. The not, and, or, equals, not equal, greater than, greater than or equal to, less than, less than or equal to, and the contained in operators. Logical operators are used with one to several R objects in order to create logical objects. These logical objects are the result of checking conditions, and they store the answers to yes/no questions that you may ask throughout your work. Let's look at several examples.

We have data on ages of some students, and we have stored this information in the ages object. We have information on a common age cutoff that is applied to all students for a particular activity. This is stored in the common underscore cutoff object. For another activity, we have individualized age cutoffs for each student. This is stored in the indiv underscore cutoffs object. Let's ask several yes/no questions relating to this data.

Do the students' ages equal the cutoff? To answer this, we would use the "equals" operator, the double equals sign. Here, each number in the ages object is compared to 13. Only the fourth student meets this condition. Do the students' ages equal the individualized cutoffs? Here, each number in the ages object is compared to the corresponding number in the indiv underscore cutoffs vector. Only the first and fifth students meet this condition.

Usually cutoffs are a bound rather than a specification of an equality, so we may instead ask if the students older than the cutoff by using the "greater than" operator. Are they at least as old as the cutoff? We can answer this with the "greater than or equal to" operator.

If the cutoffs are upper bounds instead of lower bounds, we can answer similar questions as before using the "less than" and "less than or equal to" operators.

So far we have treated the common cutoff and the individualized cutoffs separately, and we have thus only used one logical operator at the time. We can use several logical operators simultaneously to answer more complex yes/no questions. Are the students older than the common cutoff and the individualized cutoffs? We can combine the "greater than" operator with the "and" operator. Are the students older than the common cutoff or the individualized cutoffs? We can combine the "greater than" operator with the "or" operator.

Are the students older than the common cutoff but not the individualized cutoffs? We can answer this with the "not" operator or without it by reasoning through with the inequalities. In using the "not" operator, it is a good idea to wrap the condition that you are negating in parentheses to enhance clarity and avoid errors.

When working with complex logical expressions, it can help to store different parts of the expression in their own objects. In reproducing the example above, we have stored the result of the logical operation dealing with the common cutoff in the meets common cut logical object. We have also stored the result of the logical operation dealing with the individual cutoffs in the not meets indiv cut logical object. These two objects can be combined at the end in a more readable expression.

Although these examples have all used numbers, logical operators can also be used for character and factor objects. Let's start with character objects. For comparing character objects, you will primarily use the "equals" and "not equal" operators. For example, we have a character vector of colors. Are the colors "red"? Are the colors not "blue"?

Here it is useful to introduce the "contained in" operator percent sign in percent sign. This operator checks if the elements in the left hand object are contained in the right hand object. Are "red" and "purple" contained in this set of colors? The length of the output is the same as the length of the left hand side. We ask about two colors, "red" and "purple", and we see that "red" is contained in the colors object but "purple" is not. If we had reversed the command, we would instead be asking, "Are the colors in the colors object contained in the red and purple set?" Only the instances of "red" will be marked as true.

When dealing with logical operations with factors, we can only use the "equals" and "not equal" operators. Usually we will want to compare factor objects with values of their labels. Let's look at logical operations for the factor object here containing height category information. Although we create this factor object from integers, comparing it to the value 1 will not give desired results. The intention in comparing it to the integer 1 is to mark the short individuals with true. We can do this by either coercing the factor object to an integer object with the as dot integer function or by comparing the factor to the string label "short".

So far we have used logical operators to ask yes/no questions on a unit-by-unit basis. That is, asking the question for each data observation. This has given us true/false answers for each unit. We might also want to summarize the results of these multiple responses with questions such as "Do all units meet the condition?" or "Do any (at least one) units meet the condition?" We may also want to do some counting of true and false values.

For the first question, "Do all units meet the condition?", we can use the all function. The all function takes a logical object as input and returns true if all values in the logical object are true, and it returns false otherwise. Are all student ages equal to the individual cutoffs? Are all ages greater than or equal to zero?

For the second question, "Do any units meet the condition?", we can use the any function. The any function takes a logical object as input and returns true if at least one of the values in the logical object is true, and it returns false otherwise. Are any of the student ages equal to the individual cutoffs? Are any ages greater than 100?

Often we will want to combine the asking of yes/no questions with "who" and "how many" questions. Who meets the condition? How many units meet the condition? For the first question, "Who meets the condition?", we can use the which function. The which function takes a logical object as input and returns the indices of true values. In this example, we see that the first and second colors are the ones that are contained within the red and purple set.

To answer, "How many units meet this condition?", we can make use of the sum and mean functions. The idea here is that logical values have a correspondence with the integer values of 0 and 1. true values correspond to 1, and false values correspond to 0. Thus when we create a logical object, we can use sum to count the number of true values, and we can use mean to compute the fraction of true values.
